<img src="https://r2cdn.perplexity.ai/pplx-full-logo-primary-dark%402x.png" style="height:64px;margin-right:32px"/>

# crie o prompt

Segue o prompt para o agente Copilot implementar os ajustes finos no pipeline de ingestão, incluindo a nova configuração de chunking e monitoramento detalhado de performance:

***

## Prompt para Ajuste Fino do Pipeline de Ingestão run_auto_ingest.py

Com base no relatório de auditoria do pipeline de ingestão analítica do projeto EDA AI Minds, execute as seguintes modificações no script run_auto_ingest.py e nos módulos relacionados:

1. Atualize os parâmetros de chunking:
    - Defina `csv_chunk_size_rows = 2000` para reduzir o número total de chunks criados.
    - Defina `csv_overlap_rows = 100` para manter um contexto consistente entre os chunks.
2. Adicione monitoramento detalhado no pipeline de ingestão:
    - Inclua logs estruturados em níveis INFO e DEBUG que mostram:
        - Início e fim da ingestão de cada chunk.
        - Contagem atualizada de inserts realizados.
        - Tempo gasto no processamento de cada chunk e total de ingestão.
    - Implemente captura e tratamento de exceções para evitar perda de dados em falhas intermediárias.
3. Verifique se o fluxo atual faz uso exclusivo do agente `RAGAgent` para ingestão, garantindo que o módulo `DataIngestor` depreciado não seja chamado.
4. Garanta que não sejam criados scripts externos de ingestão ou testes fora do pipeline principal (`run_auto_ingest.py`).
5. Implemente pequenos testes inline no final do script para validar o novo fluxo de ingestão, registrando os resultados no log.

***

### Critérios de sucesso:

- O pipeline utiliza os novos parâmetros de chunking.
- Log detalhado e informativo durante todo o processo de ingestão.
- Não há referências ou uso do módulo depreciado `DataIngestor`.
- Testes inline funcionam sem erros.
- Processamento mais eficiente e de acordo com as novas configurações.

***

Se quiser, posso salvar esse prompt como arquivo para controle ou ajudar a criar o script com as modificações. Deseja seguir?

